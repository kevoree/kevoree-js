!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("KevoreeLibrary")):"function"==typeof define&&define.amd?define(["KevoreeLibrary"],t):"object"==typeof exports?exports.KevoreeValidator=t(require("KevoreeLibrary")):e.KevoreeValidator=t(e.KevoreeLibrary)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t,n){if(!t)throw new a('Missing dictionary for instance "'+e.path()+'"',e.path());var r=t.findValuesByID(n.name);if(!r)throw n.fragmentDependant?new a('Missing fragmented attribute "'+n.name+'" in fragment "'+t.name+'" for instance "'+e.path()+'"',e.path()):new a('Missing attribute "'+n.name+'" for instance "'+e.path()+'"',e.path());if(!(n.optional||r.value&&0!==r.value.length))throw n.fragmentDependant?new a('Missing value for non-optional fragmented attribute "'+n.name+'" in fragment "'+t.name+'" for instance "'+e.path()+'"',e.path()):new a('Missing value for non-optional attribute "'+n.name+'" for instance "'+e.path()+'"',e.path())}function o(e){var t=[];e.deployUnits.array.forEach(function(e){e.filters.array.forEach(function(e){"platform"===e.name&&-1===t.indexOf(e.value)&&t.push(e.value)})}),t.forEach(function(t){var n=e.select("deployUnits[]/filters[name=platform,value="+t+"]").array;if(1!==n.length)throw new a("TypeDefinition "+e.name+"/"+e.version+" has "+n.length+" DeployUnits for the '"+t+"' platform (must be 1 per platform)",e.path())})}var i=n(1),a=n(2);e.exports=function(e){var t=new i.org.kevoree.modeling.api.util.ModelVisitor;t.visit=function(e){switch(e.metaClassName()){case"org.kevoree.Dictionary":case"org.kevoree.DictionaryType":if("0.0"!==e.generated_KMF_ID&&0!==e.generated_KMF_ID)throw new a('Dictionary KMF_ID must be set to 0.0 to prevent diff errors in instance "'+e.eContainer().path()+'"',e.eContainer().path());break;case"org.kevoree.ContainerNode":case"org.kevoree.Group":case"org.kevoree.Channel":case"org.kevoree.ComponentInstance":if(!e.typeDefinition)throw new a('No TypeDefinition defined for instance "'+e.path()+'"',e.path());if(e.typeDefinition.dictionaryType)e.typeDefinition.dictionaryType.attributes.array.forEach(function(t){t.fragmentDependant?e.fragmentDictionary.array.forEach(function(n){r(e,n,t)}):r(e,e.dictionary,t)});else{if(e.dictionary)throw new a('Instance "'+e.path()+'" has a dictionary but it should not.',e.path());if(e.fragmentDictionary.size()>0)throw new a('Instance "'+e.path()+'" has fragment dictionaries but it should not.',e.path())}break;case"org.kevoree.NodeType":case"org.kevoree.GroupType":case"org.kevoree.ChannelType":case"org.kevoree.ComponentType":if(0===e.deployUnits.size()){var t=e.findMetaDataByID("virtual");if(!t||"true"!==t.value)throw new a('No DeployUnits defined for type "'+e.path()+'"',e.path())}o(e)}},e.visit(t,!0,!0,!0)},e.exports.ModelValidationError=a},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t){Error.captureStackTrace(this,this.constructor),this.name="ModelValidationError",this.message=e,t&&(this.path=t)}n(3).inherits(r,Error),e.exports=r},function(e,t,n){(function(e,r){function o(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),c(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,n,r){if(e.customInspect&&n&&T(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=c(e,o,r)),o}var i=s(e,n);if(i)return i;var a=Object.keys(n),d=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(T(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(D(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var m="",v=!1,w=["{","}"];if(h(n)&&(v=!0,w=["[","]"]),T(n)&&(m=" [Function"+(n.name?": "+n.name:"")+"]"),D(n)&&(m=" "+RegExp.prototype.toString.call(n)),O(n)&&(m=" "+Date.prototype.toUTCString.call(n)),E(n)&&(m=" "+f(n)),0===a.length&&(!v||0==n.length))return w[0]+m+w[1];if(r<0)return D(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var x;return x=v?l(e,n,r,d,a):a.map(function(t){return p(e,n,r,d,t,v)}),e.seen.pop(),y(x,m,w)}function s(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)N(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}function p(e,t,n,r,o,i){var a,u,s;if(s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},s.get?u=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(u=e.stylize("[Setter]","special")),N(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(s.value)<0?(u=g(n)?c(e,s.value,null):c(e,s.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),x(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function y(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return null==e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function D(e){return j(e)&&"[object RegExp]"===z(e)}function j(e){return"object"==typeof e&&null!==e}function O(e){return j(e)&&"[object Date]"===z(e)}function E(e){return j(e)&&("[object Error]"===z(e)||e instanceof Error)}function T(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function z(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),U[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(_,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])g(u)||!j(u)?a+=" "+u:a+=" "+o(u);return a},t.deprecate=function(n,o){function i(){if(!a){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),a=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return i};var C,I={};t.debuglog=function(e){if(x(C)&&(C=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!I[e])if(new RegExp("\\b"+e+"\\b","i").test(C)){var n=r.pid;I[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else I[e]=function(){};return I[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=d,t.isNull=g,t.isNullOrUndefined=m,t.isNumber=v,t.isString=b,t.isSymbol=w,t.isUndefined=x,t.isRegExp=D,t.isObject=j,t.isDate=O,t.isError=E,t.isFunction=T,t.isPrimitive=S,t.isBuffer=n(6);var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=n(7),t._extend=function(e,t){if(!t||!j(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(4),n(5))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){d&&y&&(d=!1,y.length?h=y.concat(h):g=-1,h.length&&u())}function u(){if(!d){var e=o(a);d=!0;for(var t=h.length;t;){for(y=h,h=[];++g<t;)y&&y[g].run();g=-1,t=h.length}y=null,d=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var y,h=[],d=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||d||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}])});
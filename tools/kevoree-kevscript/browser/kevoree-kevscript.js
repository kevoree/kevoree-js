!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("KevoreeLibrary"),require("TinyConf"),require("KevoreeValidator"),require("KevoreeRegistryClient")):"function"==typeof define&&define.amd?define(["KevoreeLibrary","TinyConf","KevoreeValidator","KevoreeRegistryClient"],n):"object"==typeof exports?exports.KevoreeKevscript=n(require("KevoreeLibrary"),require("TinyConf"),require("KevoreeValidator"),require("KevoreeRegistryClient")):e.KevoreeKevscript=n(e.KevoreeLibrary,e.TinyConf,e.KevoreeValidator,e.KevoreeRegistryClient)}(this,function(e,n,t,r){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=11)}([function(e,n,t){"use strict";function r(e,n){Object.setPrototypeOf(this,r.prototype),this.name="KevScriptError",this.message=e,this.pos=n,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack}t(20).inherits(r,Error),e.exports=r},function(n,t){n.exports=e},function(e,n){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===t||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(n){try{return d.call(null,e,0)}catch(n){return d.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(n){try{return f.call(null,e)}catch(n){return f.call(this,e)}}}function a(){w&&h&&(w=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!w){var e=i(a);w=!0;for(var n=p.length;n;){for(h=p,p=[];++g<n;)h&&h[g].run();g=-1,n=p.length}h=null,w=!1,o(e)}}function c(e,n){this.fun=e,this.array=n}function u(){}var d,f,l=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:t}catch(e){d=t}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],w=!1,g=-1;l.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];p.push(new c(e,n)),1!==p.length||w||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.prependListener=u,l.prependOnceListener=u,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,n,t){"use strict";function r(e,n){function t(t){var r=e[t]?e[t].iterator():null;if(null!==r)for(;r.hasNext();){var i=r.next();if(i.name===n)return i}return null}return t("nodes")||t("groups")||t("hubs")||null}function i(e,n,t){var r=e.findNodesByID(n);return r?r.findComponentsByID(t):null}function o(e){var n=[];return e&&e.deployUnits.array.forEach(function(e){var t=e.findFiltersByID("platform");t&&-1===n.indexOf(t.value)&&n.push(t.value)}),n}function a(e,n){if(e&&n){if(e.select("metaData[name=virtual]").array.length>0)return!0;for(var t=o(n.typeDefinition),r=0;r<t.length;r++)if(e.select("deployUnits[name=*]/filters[name=platform,value="+t[r]+"]").array.length>0)return!0}return!1}function s(e){function n(e){e.eContainer()&&(i=e.name+"."+i,n(e.eContainer()))}var t=e.deployUnits.array.some(function(e){return null!==c.prerelease(e.version)}),r=t?"/LATEST":"",i=e.name+"/"+e.version+r;return n(e.eContainer()),i}var c=t(4);e.exports={findEntityByName:r,findComponentByName:i,getPlatforms:o,isCompatible:a,getFQN:s}},function(e,n,t){(function(t){function r(e,n){if(e instanceof a)return e;if("string"!=typeof e)return null;if(e.length>W)return null;if(!(n?X[we]:X[le]).test(e))return null;try{return new a(e,n)}catch(e){return null}}function i(e,n){var t=r(e,n);return t?t.version:null}function o(e,n){var t=r(e.trim().replace(/^[=v]+/,""),n);return t?t.version:null}function a(e,n){if(e instanceof a){if(e.loose===n)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>W)throw new TypeError("version is longer than "+W+" characters");if(!(this instanceof a))return new a(e,n);Q("SemVer",e,n),this.loose=n;var t=e.trim().match(n?X[we]:X[le]);if(!t)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>Z||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Z||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Z||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var n=+e;if(n>=0&&n<Z)return n}return e}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}function s(e,n,t,r){"string"==typeof t&&(r=t,t=void 0);try{return new a(e,t).inc(n,r).version}catch(e){return null}}function c(e,n){if(S(e,n))return null;var t=r(e),i=r(n);if(t.prerelease.length||i.prerelease.length){for(var o in t)if(("major"===o||"minor"===o||"patch"===o)&&t[o]!==i[o])return"pre"+o;return"prerelease"}for(var o in t)if(("major"===o||"minor"===o||"patch"===o)&&t[o]!==i[o])return o}function u(e,n){var t=Ue.test(e),r=Ue.test(n);return t&&r&&(e=+e,n=+n),t&&!r?-1:r&&!t?1:e<n?-1:e>n?1:0}function d(e,n){return u(n,e)}function f(e,n){return new a(e,n).major}function l(e,n){return new a(e,n).minor}function h(e,n){return new a(e,n).patch}function p(e,n,t){return new a(e,t).compare(new a(n,t))}function w(e,n){return p(e,n,!0)}function g(e,n,t){return p(n,e,t)}function v(e,t){return e.sort(function(e,r){return n.compare(e,r,t)})}function m(e,t){return e.sort(function(e,r){return n.rcompare(e,r,t)})}function y(e,n,t){return p(e,n,t)>0}function E(e,n,t){return p(e,n,t)<0}function S(e,n,t){return 0===p(e,n,t)}function b(e,n,t){return 0!==p(e,n,t)}function F(e,n,t){return p(e,n,t)>=0}function A(e,n,t){return p(e,n,t)<=0}function x(e,n,t,r){var i;switch(n){case"===":"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),i=e===t;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),i=e!==t;break;case"":case"=":case"==":i=S(e,t,r);break;case"!=":i=b(e,t,r);break;case">":i=y(e,t,r);break;case">=":i=F(e,t,r);break;case"<":i=E(e,t,r);break;case"<=":i=A(e,t,r);break;default:throw new TypeError("Invalid operator: "+n)}return i}function T(e,n){if(e instanceof T){if(e.loose===n)return e;e=e.value}if(!(this instanceof T))return new T(e,n);Q("comparator",e,n),this.loose=n,this.parse(e),this.semver===Ke?this.value="":this.value=this.operator+this.semver.version,Q("comp",this)}function D(e,n){if(e instanceof D)return e.loose===n?e:new D(e.raw,n);if(e instanceof T)return new D(e.value,n);if(!(this instanceof D))return new D(e,n);if(this.loose=n,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function N(e,n){return new D(e,n).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function k(e,n){return Q("comp",e),e=P(e,n),Q("caret",e),e=L(e,n),Q("tildes",e),e=C(e,n),Q("xrange",e),e=R(e,n),Q("stars",e),e}function I(e){return!e||"x"===e.toLowerCase()||"*"===e}function L(e,n){return e.trim().split(/\s+/).map(function(e){return O(e,n)}).join(" ")}function O(e,n){var t=n?X[Te]:X[xe];return e.replace(t,function(n,t,r,i,o){Q("tilde",e,n,t,r,i,o);var a;return I(t)?a="":I(r)?a=">="+t+".0.0 <"+(+t+1)+".0.0":I(i)?a=">="+t+"."+r+".0 <"+t+"."+(+r+1)+".0":o?(Q("replaceTilde pr",o),"-"!==o.charAt(0)&&(o="-"+o),a=">="+t+"."+r+"."+i+o+" <"+t+"."+(+r+1)+".0"):a=">="+t+"."+r+"."+i+" <"+t+"."+(+r+1)+".0",Q("tilde return",a),a})}function P(e,n){return e.trim().split(/\s+/).map(function(e){return j(e,n)}).join(" ")}function j(e,n){Q("caret",e,n);var t=n?X[Ie]:X[ke];return e.replace(t,function(n,t,r,i,o){Q("caret",e,n,t,r,i,o);var a;return I(t)?a="":I(r)?a=">="+t+".0.0 <"+(+t+1)+".0.0":I(i)?a="0"===t?">="+t+"."+r+".0 <"+t+"."+(+r+1)+".0":">="+t+"."+r+".0 <"+(+t+1)+".0.0":o?(Q("replaceCaret pr",o),"-"!==o.charAt(0)&&(o="-"+o),a="0"===t?"0"===r?">="+t+"."+r+"."+i+o+" <"+t+"."+r+"."+(+i+1):">="+t+"."+r+"."+i+o+" <"+t+"."+(+r+1)+".0":">="+t+"."+r+"."+i+o+" <"+(+t+1)+".0.0"):(Q("no pr"),a="0"===t?"0"===r?">="+t+"."+r+"."+i+" <"+t+"."+r+"."+(+i+1):">="+t+"."+r+"."+i+" <"+t+"."+(+r+1)+".0":">="+t+"."+r+"."+i+" <"+(+t+1)+".0.0"),Q("caret return",a),a})}function C(e,n){return Q("replaceXRanges",e,n),e.split(/\s+/).map(function(e){return B(e,n)}).join(" ")}function B(e,n){e=e.trim();var t=n?X[be]:X[Se];return e.replace(t,function(n,t,r,i,o,a){Q("xRange",e,n,t,r,i,o,a);var s=I(r),c=s||I(i),u=c||I(o),d=u;return"="===t&&d&&(t=""),s?n=">"===t||"<"===t?"<0.0.0":"*":t&&d?(c&&(i=0),u&&(o=0),">"===t?(t=">=",c?(r=+r+1,i=0,o=0):u&&(i=+i+1,o=0)):"<="===t&&(t="<",c?r=+r+1:i=+i+1),n=t+r+"."+i+"."+o):c?n=">="+r+".0.0 <"+(+r+1)+".0.0":u&&(n=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0"),Q("xRange return",n),n})}function R(e,n){return Q("replaceStars",e,n),e.trim().replace(X[Be],"")}function U(e,n,t,r,i,o,a,s,c,u,d,f,l){return n=I(t)?"":I(r)?">="+t+".0.0":I(i)?">="+t+"."+r+".0":">="+n,s=I(c)?"":I(u)?"<"+(+c+1)+".0.0":I(d)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+d+"-"+f:"<="+s,(n+" "+s).trim()}function K(e,n){for(var t=0;t<e.length;t++)if(!e[t].test(n))return!1;if(n.prerelease.length){for(var t=0;t<e.length;t++)if(Q(e[t].semver),e[t].semver!==Ke&&e[t].semver.prerelease.length>0){var r=e[t].semver;if(r.major===n.major&&r.minor===n.minor&&r.patch===n.patch)return!0}return!1}return!0}function V(e,n,t){try{n=new D(n,t)}catch(e){return!1}return n.test(e)}function M(e,n,t){var r=null,i=null;try{var o=new D(n,t)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&-1!==i.compare(e)||(r=e,i=new a(r,t)))}),r}function G(e,n,t){var r=null,i=null;try{var o=new D(n,t)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&1!==i.compare(e)||(r=e,i=new a(r,t)))}),r}function _(e,n){try{return new D(e,n).range||"*"}catch(e){return null}}function z(e,n,t){return q(e,n,"<",t)}function $(e,n,t){return q(e,n,">",t)}function q(e,n,t,r){e=new a(e,r),n=new D(n,r);var i,o,s,c,u;switch(t){case">":i=y,o=A,s=E,c=">",u=">=";break;case"<":i=E,o=F,s=y,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(V(e,n,r))return!1;for(var d=0;d<n.set.length;++d){var f=n.set[d],l=null,h=null;if(f.forEach(function(e){e.semver===Ke&&(e=new T(">=0.0.0")),l=l||e,h=h||e,i(e.semver,l.semver,r)?l=e:s(e.semver,h.semver,r)&&(h=e)}),l.operator===c||l.operator===u)return!1;if((!h.operator||h.operator===c)&&o(e,h.semver))return!1;if(h.operator===u&&s(e,h.semver))return!1}return!0}function J(e,n){var t=r(e,n);return t&&t.prerelease.length?t.prerelease:null}function H(e,n,t){return e=new D(e,t),n=new D(n,t),e.intersects(n)}n=e.exports=a;var Q;Q="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},n.SEMVER_SPEC_VERSION="2.0.0";var W=256,Z=Number.MAX_SAFE_INTEGER||9007199254740991,X=n.re=[],Y=n.src=[],ee=0,ne=ee++;Y[ne]="0|[1-9]\\d*";var te=ee++;Y[te]="[0-9]+";var re=ee++;Y[re]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var ie=ee++;Y[ie]="("+Y[ne]+")\\.("+Y[ne]+")\\.("+Y[ne]+")";var oe=ee++;Y[oe]="("+Y[te]+")\\.("+Y[te]+")\\.("+Y[te]+")";var ae=ee++;Y[ae]="(?:"+Y[ne]+"|"+Y[re]+")";var se=ee++;Y[se]="(?:"+Y[te]+"|"+Y[re]+")";var ce=ee++;Y[ce]="(?:-("+Y[ae]+"(?:\\."+Y[ae]+")*))";var ue=ee++;Y[ue]="(?:-?("+Y[se]+"(?:\\."+Y[se]+")*))";var de=ee++;Y[de]="[0-9A-Za-z-]+";var fe=ee++;Y[fe]="(?:\\+("+Y[de]+"(?:\\."+Y[de]+")*))";var le=ee++,he="v?"+Y[ie]+Y[ce]+"?"+Y[fe]+"?";Y[le]="^"+he+"$";var pe="[v=\\s]*"+Y[oe]+Y[ue]+"?"+Y[fe]+"?",we=ee++;Y[we]="^"+pe+"$";var ge=ee++;Y[ge]="((?:<|>)?=?)";var ve=ee++;Y[ve]=Y[te]+"|x|X|\\*";var me=ee++;Y[me]=Y[ne]+"|x|X|\\*";var ye=ee++;Y[ye]="[v=\\s]*("+Y[me]+")(?:\\.("+Y[me]+")(?:\\.("+Y[me]+")(?:"+Y[ce]+")?"+Y[fe]+"?)?)?";var Ee=ee++;Y[Ee]="[v=\\s]*("+Y[ve]+")(?:\\.("+Y[ve]+")(?:\\.("+Y[ve]+")(?:"+Y[ue]+")?"+Y[fe]+"?)?)?";var Se=ee++;Y[Se]="^"+Y[ge]+"\\s*"+Y[ye]+"$";var be=ee++;Y[be]="^"+Y[ge]+"\\s*"+Y[Ee]+"$";var Fe=ee++;Y[Fe]="(?:~>?)";var Ae=ee++;Y[Ae]="(\\s*)"+Y[Fe]+"\\s+",X[Ae]=new RegExp(Y[Ae],"g");var xe=ee++;Y[xe]="^"+Y[Fe]+Y[ye]+"$";var Te=ee++;Y[Te]="^"+Y[Fe]+Y[Ee]+"$";var De=ee++;Y[De]="(?:\\^)";var Ne=ee++;Y[Ne]="(\\s*)"+Y[De]+"\\s+",X[Ne]=new RegExp(Y[Ne],"g");var ke=ee++;Y[ke]="^"+Y[De]+Y[ye]+"$";var Ie=ee++;Y[Ie]="^"+Y[De]+Y[Ee]+"$";var Le=ee++;Y[Le]="^"+Y[ge]+"\\s*("+pe+")$|^$";var Oe=ee++;Y[Oe]="^"+Y[ge]+"\\s*("+he+")$|^$";var Pe=ee++;Y[Pe]="(\\s*)"+Y[ge]+"\\s*("+pe+"|"+Y[ye]+")",X[Pe]=new RegExp(Y[Pe],"g");var je=ee++;Y[je]="^\\s*("+Y[ye]+")\\s+-\\s+("+Y[ye]+")\\s*$";var Ce=ee++;Y[Ce]="^\\s*("+Y[Ee]+")\\s+-\\s+("+Y[Ee]+")\\s*$";var Be=ee++;Y[Be]="(<|>)?=?\\s*\\*";for(var Re=0;Re<ee;Re++)Q(Re,Y[Re]),X[Re]||(X[Re]=new RegExp(Y[Re]));n.parse=r,n.valid=i,n.clean=o,n.SemVer=a,a.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},a.prototype.toString=function(){return this.version},a.prototype.compare=function(e){return Q("SemVer.compare",this.version,this.loose,e),e instanceof a||(e=new a(e,this.loose)),this.compareMain(e)||this.comparePre(e)},a.prototype.compareMain=function(e){return e instanceof a||(e=new a(e,this.loose)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)},a.prototype.comparePre=function(e){if(e instanceof a||(e=new a(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var n=0;do{var t=this.prerelease[n],r=e.prerelease[n];if(Q("prerelease compare",n,t,r),void 0===t&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===t)return-1;if(t!==r)return u(t,r)}while(++n)},a.prototype.inc=function(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",n),this.inc("pre",n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},n.inc=s,n.diff=c,n.compareIdentifiers=u;var Ue=/^[0-9]+$/;n.rcompareIdentifiers=d,n.major=f,n.minor=l,n.patch=h,n.compare=p,n.compareLoose=w,n.rcompare=g,n.sort=v,n.rsort=m,n.gt=y,n.lt=E,n.eq=S,n.neq=b,n.gte=F,n.lte=A,n.cmp=x,n.Comparator=T;var Ke={};T.prototype.parse=function(e){var n=this.loose?X[Le]:X[Oe],t=e.match(n);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=t[1],"="===this.operator&&(this.operator=""),t[2]?this.semver=new a(t[2],this.loose):this.semver=Ke},T.prototype.toString=function(){return this.value},T.prototype.test=function(e){return Q("Comparator.test",e,this.loose),this.semver===Ke||("string"==typeof e&&(e=new a(e,this.loose)),x(e,this.operator,this.semver,this.loose))},T.prototype.intersects=function(e,n){if(!(e instanceof T))throw new TypeError("a Comparator is required");var t;if(""===this.operator)return t=new D(e.value,n),V(this.value,t,n);if(""===e.operator)return t=new D(this.value,n),V(e.semver,t,n);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=x(this.semver,"<",e.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=x(this.semver,">",e.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&a||s||c},n.Range=D,D.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},D.prototype.toString=function(){return this.range},D.prototype.parseRange=function(e){var n=this.loose;e=e.trim(),Q("range",e,n);var t=n?X[Ce]:X[je];e=e.replace(t,U),Q("hyphen replace",e),e=e.replace(X[Pe],"$1$2$3"),Q("comparator trim",e,X[Pe]),e=e.replace(X[Ae],"$1~"),e=e.replace(X[Ne],"$1^"),e=e.split(/\s+/).join(" ");var r=n?X[Le]:X[Oe],i=e.split(" ").map(function(e){return k(e,n)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(e){return!!e.match(r)})),i=i.map(function(e){return new T(e,n)})},D.prototype.intersects=function(e,n){if(!(e instanceof D))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(t){return e.set.some(function(e){return e.every(function(e){return t.intersects(e,n)})})})})},n.toComparators=N,D.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new a(e,this.loose));for(var n=0;n<this.set.length;n++)if(K(this.set[n],e))return!0;return!1},n.satisfies=V,n.maxSatisfying=M,n.minSatisfying=G,n.validRange=_,n.ltr=z,n.gtr=$,n.outside=q,n.prerelease=J,n.intersects=H}).call(n,t(2))},function(e,t){e.exports=n},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict";var r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e.exports=function(){for(var e="",n=0;n<6;n++)e+=r[Math.floor(Math.random()*r.length)];return e}},function(e,n,t){"use strict";var r=t(5);e.exports=function(){var e=r.get("registry.ssl"),n=r.get("registry.port");return e?443===n?"https://"+r.get("registry.host"):"https://"+r.get("registry.host")+":"+n:80===n?"http://"+r.get("registry.host"):"http://"+r.get("registry.host")+":"+n}},function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t(4);e.exports=function(e,n){function t(n,t){var r=null;e.debug("KevScript","ModelResolver is looking for "+n+" in model");var i=t.findPackagesByID(n.namespace);if(i){var o="typeDefinitions[name="+n.name;"LATEST"===n.version.tdef?o+="]":o+=",version="+n.version.tdef+"]",i.select(o).array.forEach(function(e){if(r){parseInt(r.version,10)<parseInt(e.version,10)&&(r=e)}else r=e})}return r}function o(e,n){var t=!0;for(var r in n){for(var o=!1,a=0;a<e.deployUnits.array.length;a++){var s=e.deployUnits.array[a];if(s.findFiltersByID("platform").value===r&&i.satisfies(s.version,n[r])){o=!0;break}}if(!o){t=!1;break}}return t}return{resolve:function(i,a){var s=t(i,a);return s&&"object"===r(i.version.du)&&Object.keys(i.version.du).length>0&&o(s,i.version.du)?(e.info("KevScript","Found "+i+" in model"),Promise.resolve(s)):n.resolve(i,a)}}}},function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t(73),o=t(1),a=t(8),s=t(0);e.exports=function(e){function n(n){return e.debug("KevScript","RegistryResolver is looking for "+n+" in "+a()),"LATEST"===n.version.tdef?i.tdef.getLatestByNamespaceAndName(n.namespace,n.name):i.tdef.getByNamespaceAndNameAndVersion(n.namespace,n.name,n.version.tdef)}function t(e){switch(e.version.du){case"LATEST":return i.du.getLatests(e.namespace,e.name,e.version.tdef);case"RELEASE":return i.du.getReleases(e.namespace,e.name,e.version.tdef);default:return i.du.getSpecificByNamespaceAndTdefNameAndTdefVersion(e.namespace,e.name,e.version.tdef,e.version.du)}}function c(e,n,t){return e.find(function(e){return e.platform===n&&e.version===t})}var u=new o.factory.DefaultKevoreeFactory,d=u.createJSONLoader();return{resolve:function(i,o){return n(i).then(function(n){i.version.tdef=n.version,e.info("KevScript","Found "+i.namespace+"."+i.name+"/"+i.version.tdef+" in "+a());var r=d.loadModelFromString(n.model).get(0),c=o.findPackagesByID(i.namespace);return c||(c=u.createPackage().withName(i.namespace),o.addPackages(c)),c.addTypeDefinitions(r),t(i).then(function(e){return{tdef:r,pkg:c,dus:e}}).catch(function(e){throw 404===e.statusCode?new s("Unable to find DeployUnits "+i.version.du+" for "+i.namespace+"."+i.namespace.name+"/"+i.version.tdef+"in "+a()):e})}).then(function(n){if("object"===r(i.version.du)&&Object.keys(i.version.du).forEach(function(e){if(!c(n.dus,e,i.version.du[e]))throw new s('Unable to find satisfying DeployUnit  { "'+e+'": "'+i.version.du[e]+'" } for '+i.namespace+"."+i.name+"/"+i.version.tdef+" in "+a())}),0===n.dus.length)throw new s("No DeployUnit found for "+i.namespace+"."+i.name+"/"+i.version.tdef+" that matches "+JSON.stringify(i.version.du));var t=o.findPackagesByID(i.namespace);return n.dus.forEach(function(r){var a=d.loadModelFromString(r.model).get(0);t.addDeployUnits(a);var s="/packages["+i.namespace+"]/deployUnits[name="+r.name+",version="+r.version+"]";o.select(s).array.forEach(function(t){e.debug("KevScript"," + "+r.platform+":"+r.name+":"+r.version+" ("+t.hashcode+")"),n.tdef.addDeployUnits(t)})}),o.findByPath("/packages["+i.namespace+"]/typeDefinitions[name="+i.name+",version="+i.version.tdef+"]")}).catch(function(e){throw e.statusCode?new s("Unable to find "+i.namespace+"."+i.name+"/"+i.version.tdef+" in "+a()):e})}}}},function(e,n,t){"use strict";function r(e,n){if(!e)throw new Error("The KevScript engine needs a Kevoree logger to be constructed");this.options=n||{},this.logger=e,this.logger.info("Registry: %s",s()),this.options.resolver||(this.options.resolver=c(this.logger,u(this.logger)))}var i=t(12),o=t(15),a=t(66),s=t(8),c=t(9),u=t(10);r.prototype={toString:function(){return"KevScript"},parse:function(e,n,t){this.options.logger=this.logger,this.options.ctxVars=t;var r=this.options,a=new i.Parser,s=a.parse(e);return"kevScript"!==s.type?Promise.resolve({error:s,model:null,warnings:r.warnings||[]}):o(s,n,r).then(function(e){if(e.error)throw e.error.warnings=e.warnings,e.error;return{model:e.model,warnings:e.warnings}})},parseModel:function(e){return a(e)},setOptions:function(e){this.options=e}},e.exports=r,e.exports.Parser=i.Parser,e.exports.Resolvers=t(74)},function(e,n,t){"use strict";(function(n){var r=n.waxeye;r=t(13);var i=function(){var e=function(){return this};return e.prototype=new r.WaxeyeParser(0,!0,[new r.FA("kevScript",[new r.State([new r.Edge(62,1,!1)],!1),new r.State([new r.Edge(1,2,!1),new r.Edge(60,3,!0)],!0),new r.State([new r.Edge(62,1,!1)],!1),new r.State([new r.Edge(61,2,!1)],!0)],r.FA.LEFT),new r.FA("statement",[new r.State([new r.Edge(2,1,!1),new r.Edge(3,1,!1),new r.Edge(4,1,!1),new r.Edge(5,1,!1),new r.Edge(6,1,!1),new r.Edge(7,1,!1),new r.Edge(9,1,!1),new r.Edge(10,1,!1),new r.Edge(12,1,!1),new r.Edge(8,1,!1),new r.Edge(11,1,!1),new r.Edge(16,1,!1),new r.Edge(17,1,!1),new r.Edge(18,1,!1),new r.Edge(19,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("add",[new r.State([new r.Edge(45,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(":",5,!0)],!1),new r.State([new r.Edge(62,6,!1)],!1),new r.State([new r.Edge(14,7,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("remove",[new r.State([new r.Edge(46,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("move",[new r.State([new r.Edge(47,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("attach",[new r.State([new r.Edge(49,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("detach",[new r.State([new r.Edge(50,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("set",[new r.State([new r.Edge(48,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge("/",4,!0),new r.Edge(62,6,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([new r.Edge(62,6,!1)],!1),new r.State([new r.Edge("=",7,!0)],!1),new r.State([new r.Edge(62,8,!1)],!1),new r.State([new r.Edge(22,9,!1),new r.Edge(23,9,!1),new r.Edge(37,9,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("network",[new r.State([new r.Edge(51,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(22,5,!1),new r.Edge(25,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("addBinding",[new r.State([new r.Edge(52,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("delBinding",[new r.State([new r.Edge(53,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("addRepo",[new r.State([new r.Edge(43,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(41,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("include",[new r.State([new r.Edge(44,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(24,3,!1)],!1),new r.State([new r.Edge(":",4,!0)],!1),new r.State([new r.Edge(25,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("nameList",[new r.State([new r.Edge(20,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge([","],3,!0)],!0),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(20,2,!1)],!1)],r.FA.LEFT),new r.FA("typeDef",[new r.State([new r.Edge(15,1,!1)],!1),new r.State([new r.Edge("/",2,!0)],!0),new r.State([new r.Edge(27,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("typeFQN",[new r.State([new r.Edge(26,1,!1)],!1),new r.State([new r.Edge(["."],2,!1)],!0),new r.State([new r.Edge(26,1,!1)],!1)],r.FA.LEFT),new r.FA("namespace",[new r.State([new r.Edge(54,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(24,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("start",[new r.State([new r.Edge(55,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("stop",[new r.State([new r.Edge(56,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("pause",[new r.State([new r.Edge(57,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("instancePath",[new r.State([new r.Edge(21,1,!1),new r.Edge(24,1,!1),new r.Edge(22,1,!1),new r.Edge(23,1,!1)],!1),new r.State([new r.Edge(["."],2,!0)],!0),new r.State([new r.Edge(21,1,!1),new r.Edge(24,1,!1),new r.Edge(22,1,!1),new r.Edge(23,1,!1)],!1)],r.FA.LEFT),new r.FA("wildcard",[new r.State([new r.Edge("*",1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("ctxVar",[new r.State([new r.Edge("%",1,!0)],!1),new r.State([new r.Edge(24,2,!1)],!1),new r.State([new r.Edge("%",3,!0)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("genCtxVar",[new r.State([new r.Edge("%",1,!0)],!1),new r.State([new r.Edge("%",2,!0)],!1),new r.State([new r.Edge(24,3,!1)],!1),new r.State([new r.Edge("%",4,!0)],!1),new r.State([new r.Edge("%",5,!0)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("string",[new r.State([new r.Edge(["-",[48,57],[65,90],"_",[97,122]],1,!1)],!1),new r.State([new r.Edge(["-",[48,57],[65,90],"_",[97,122]],1,!1)],!0)],r.FA.LEFT),new r.FA("string2",[new r.State([new r.Edge(["%",[45,46],[48,58],[64,90],"_",[97,122]],1,!1)],!1),new r.State([new r.Edge(["%",[45,46],[48,58],[64,90],"_",[97,122]],1,!1)],!0)],r.FA.LEFT),new r.FA("string3",[new r.State([new r.Edge([[48,57],[65,90],"_",[97,122]],1,!1)],!1),new r.State([new r.Edge([[48,57],[65,90],"_",[97,122]],1,!1)],!0)],r.FA.LEFT),new r.FA("version",[new r.State([new r.Edge(28,1,!1)],!1),new r.State([new r.Edge("/",2,!0)],!0),new r.State([new r.Edge(29,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("tdefVersion",[new r.State([new r.Edge(33,1,!1),new r.Edge(35,1,!1),new r.Edge(22,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("duVersion",[new r.State([new r.Edge(34,1,!1),new r.Edge(35,1,!1),new r.Edge(22,1,!1),new r.Edge(30,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("versionDecl",[new r.State([new r.Edge("{",1,!0)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(31,3,!1),new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge("}",5,!0)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("versionLines",[new r.State([new r.Edge(32,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge([","],3,!0)],!0),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(32,2,!1)],!1)],r.FA.LEFT),new r.FA("versionLine",[new r.State([new r.Edge(24,1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(":",3,!0)],!1),new r.State([new r.Edge(62,4,!1)],!1),new r.State([new r.Edge(41,5,!1),new r.Edge(22,5,!1),new r.Edge(35,5,!1),new r.Edge(34,5,!1)],!1),new r.State([new r.Edge(62,6,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("integer",[new r.State([new r.Edge([[48,57]],1,!1)],!1),new r.State([new r.Edge([[48,57]],1,!1)],!0)],r.FA.LEFT),new r.FA("release",[new r.State([new r.Edge(59,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("latest",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("line",[new r.State([new r.Edge(64,1,!1)],!1),new r.State([new r.Edge(-1,2,!1)],!1),new r.State([new r.Edge(63,3,!1)],!0),new r.State([new r.Edge(-1,2,!1)],!1)],r.FA.LEFT),new r.FA("realString",[new r.State([new r.Edge(["'"],1,!0),new r.Edge(['"'],3,!0)],!1),new r.State([new r.Edge(42,1,!1),new r.Edge(38,1,!1),new r.Edge(39,1,!1),new r.Edge(["'"],2,!0)],!1),new r.State([],!0),new r.State([new r.Edge(42,3,!1),new r.Edge(38,3,!1),new r.Edge(40,3,!1),new r.Edge(['"'],2,!0)],!1)],r.FA.LEFT),new r.FA("escaped",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([new r.Edge(65,2,!1)],!1),new r.State([new r.Edge(-1,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("singleQuoteLine",[new r.State([new r.Edge(71,1,!1)],!1),new r.State([new r.Edge(70,2,!1)],!1),new r.State([new r.Edge(69,3,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1),new r.State([new r.Edge(68,5,!1)],!0),new r.State([new r.Edge(67,6,!1)],!1),new r.State([new r.Edge(66,7,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1)],r.FA.LEFT),new r.FA("doubleQuoteLine",[new r.State([new r.Edge(77,1,!1)],!1),new r.State([new r.Edge(76,2,!1)],!1),new r.State([new r.Edge(75,3,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1),new r.State([new r.Edge(74,5,!1)],!0),new r.State([new r.Edge(73,6,!1)],!1),new r.State([new r.Edge(72,7,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1)],r.FA.LEFT),new r.FA("realStringNoNewLine",[new r.State([new r.Edge(["'"],1,!0),new r.Edge(['"'],8,!0)],!1),new r.State([new r.Edge(["\\"],2,!1),new r.Edge(81,4,!1),new r.Edge(["'"],7,!0)],!1),new r.State([new r.Edge(78,3,!1)],!1),new r.State([new r.Edge(-1,1,!1)],!1),new r.State([new r.Edge(80,5,!1)],!1),new r.State([new r.Edge(79,6,!1)],!1),new r.State([new r.Edge(-1,1,!1)],!1),new r.State([],!0),new r.State([new r.Edge(["\\"],9,!1),new r.Edge(85,11,!1),new r.Edge(['"'],7,!0)],!1),new r.State([new r.Edge(82,10,!1)],!1),new r.State([new r.Edge(-1,8,!1)],!1),new r.State([new r.Edge(84,12,!1)],!1),new r.State([new r.Edge(83,13,!1)],!1),new r.State([new r.Edge(-1,8,!1)],!1)],r.FA.LEFT),new r.FA("newLine",[new r.State([new r.Edge("\r",1,!0),new r.Edge("\n",2,!0),new r.Edge("\r",2,!0)],!1),new r.State([new r.Edge("\n",2,!0)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("repoToken",[new r.State([new r.Edge("r",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("p",3,!1)],!1),new r.State([new r.Edge("o",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("includeToken",[new r.State([new r.Edge("i",1,!1)],!1),new r.State([new r.Edge("n",2,!1)],!1),new r.State([new r.Edge("c",3,!1)],!1),new r.State([new r.Edge("l",4,!1)],!1),new r.State([new r.Edge("u",5,!1)],!1),new r.State([new r.Edge("d",6,!1)],!1),new r.State([new r.Edge("e",7,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("addToken",[new r.State([new r.Edge("a",1,!1)],!1),new r.State([new r.Edge("d",2,!1)],!1),new r.State([new r.Edge("d",3,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("removeToken",[new r.State([new r.Edge("r",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("m",3,!1)],!1),new r.State([new r.Edge("o",4,!1)],!1),new r.State([new r.Edge("v",5,!1)],!1),new r.State([new r.Edge("e",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("moveToken",[new r.State([new r.Edge("m",1,!1)],!1),new r.State([new r.Edge("o",2,!1)],!1),new r.State([new r.Edge("v",3,!1)],!1),new r.State([new r.Edge("e",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("setToken",[new r.State([new r.Edge("s",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("attachToken",[new r.State([new r.Edge("a",1,!1)],!1),new r.State([new r.Edge("t",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([new r.Edge("a",4,!1)],!1),new r.State([new r.Edge("c",5,!1)],!1),new r.State([new r.Edge("h",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("detachToken",[new r.State([new r.Edge("d",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([new r.Edge("a",4,!1)],!1),new r.State([new r.Edge("c",5,!1)],!1),new r.State([new r.Edge("h",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("networkToken",[new r.State([new r.Edge("n",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([new r.Edge("w",4,!1)],!1),new r.State([new r.Edge("o",5,!1)],!1),new r.State([new r.Edge("r",6,!1)],!1),new r.State([new r.Edge("k",7,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("bindToken",[new r.State([new r.Edge("b",1,!1)],!1),new r.State([new r.Edge("i",2,!1)],!1),new r.State([new r.Edge("n",3,!1)],!1),new r.State([new r.Edge("d",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("unbindToken",[new r.State([new r.Edge("u",1,!1)],!1),new r.State([new r.Edge("n",2,!1)],!1),new r.State([new r.Edge("b",3,!1)],!1),new r.State([new r.Edge("i",4,!1)],!1),new r.State([new r.Edge("n",5,!1)],!1),new r.State([new r.Edge("d",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("namespaceToken",[new r.State([new r.Edge("n",1,!1)],!1),new r.State([new r.Edge("a",2,!1)],!1),new r.State([new r.Edge("m",3,!1)],!1),new r.State([new r.Edge("e",4,!1)],!1),new r.State([new r.Edge("s",5,!1)],!1),new r.State([new r.Edge("p",6,!1)],!1),new r.State([new r.Edge("a",7,!1)],!1),new r.State([new r.Edge("c",8,!1)],!1),new r.State([new r.Edge("e",9,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("startToken",[new r.State([new r.Edge("s",1,!1)],!1),new r.State([new r.Edge("t",2,!1)],!1),new r.State([new r.Edge("a",3,!1)],!1),new r.State([new r.Edge("r",4,!1)],!1),new r.State([new r.Edge("t",5,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("stopToken",[new r.State([new r.Edge("s",1,!1)],!1),new r.State([new r.Edge("t",2,!1)],!1),new r.State([new r.Edge("o",3,!1)],!1),new r.State([new r.Edge("p",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("pauseToken",[new r.State([new r.Edge("p",1,!1)],!1),new r.State([new r.Edge("a",2,!1)],!1),new r.State([new r.Edge("u",3,!1)],!1),new r.State([new r.Edge("s",4,!1)],!1),new r.State([new r.Edge("e",5,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("latestToken",[new r.State([new r.Edge("L",1,!1)],!1),new r.State([new r.Edge("A",2,!1)],!1),new r.State([new r.Edge("T",3,!1)],!1),new r.State([new r.Edge("E",4,!1)],!1),new r.State([new r.Edge("S",5,!1)],!1),new r.State([new r.Edge("T",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("releaseToken",[new r.State([new r.Edge("R",1,!1)],!1),new r.State([new r.Edge("E",2,!1)],!1),new r.State([new r.Edge("L",3,!1)],!1),new r.State([new r.Edge("E",4,!1)],!1),new r.State([new r.Edge("A",5,!1)],!1),new r.State([new r.Edge("S",6,!1)],!1),new r.State([new r.Edge("E",7,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("comment",[new r.State([new r.Edge("/",1,!1)],!1),new r.State([new r.Edge("/",2,!1)],!1),new r.State([new r.Edge(36,3,!1)],!0),new r.State([],!0)],r.FA.VOID),new r.FA("eol",[new r.State([new r.Edge("\r",1,!1),new r.Edge("\n",2,!1),new r.Edge("\r",2,!1)],!1),new r.State([new r.Edge("\n",2,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("ws",[new r.State([new r.Edge(["\t"," "],0,!1),new r.Edge(61,0,!1),new r.Edge(60,0,!1)],!0)],r.FA.VOID),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["'"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["'"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(['"'],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(['"'],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["'"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(['"'],1,!1)],!1),new r.State([],!0)],r.FA.NEG)]),e}();e.exports.Parser=i}).call(n,t(6))},function(e,n,t){(function(e){var n;n=function(){var e,n,t,r,i,o,a;return n=function(e,n,t){return this.voided=t,this.state=n,this.trans=e,this},o=function(e,n){return this.match=n,this.edges=e,this},t=function(e,n,t){return this.mode=t,this.states=n,this.type=e,this},t.VOID=0,t.PRUNE=1,t.LEFT=2,t.POS=3,t.NEG=4,i=function(e,n,t,r){return this.nt=r,this.col=t,this.line=n,this.pos=e,this},i.prototype.toString=function(){return"parse error: failed to match '"+this.nt+"' at line="+this.line+", col="+this.col+", pos="+this.pos},e=function(e,n,t){return this.pos=t,this.children=n,this.type=e,this},e.prototype.toString=function(){var e,n,t;return e="",n=0,(t=function(r){var i,o,a,s,c;for(c=0;c<n-1;)e+="    ",c++;for(n>0&&(e+="->  "),e+=r.type,n++,o=r.children,i=0,a=o.length;i<a;i++)if(s=o[i],e+="\n","string"==typeof s){for(c=0;c<n-1;)e+="    ",c++;n>0&&(e+="|   "),e+=s}else t(s);return n--,e})(this)},a=function(e,n,t){return this.automata=t,this.eofCheck=n,this.start=e,this},a.prototype.parse=function(e){return new r(this.start,this.eofCheck,this.automata,e).parse()},r=function(e,n,t,r){return this.automata=t,this.eofCheck=n,this.start=e,this.input=r,this.inputLen=r.length,this.inputPos=0,this.line=1,this.column=0,this.lastCR=!1,this.errorPos=0,this.errorLine=1,this.errorCol=0,this.errorNT=this.automata[this.start].type,this.faStack=[],this.cache={},this},r.prototype.parse=function(){return this.doEOFCheck(this.matchAutomaton(this.start))},r.prototype.matchAutomaton=function(n){var r,i,o,a,s,c,u,d,f,l,h,p;return l=this.inputPos,a=n+","+l,void 0!==(o=this.cache[a])&&null!==o?(this.restorePos(o[1],o[2],o[3],o[4]),o[0]):(f=this.line,d=this.column,u=this.lastCR,i=this.automata[n],h=i.type,s=i.mode,this.faStack.push(i),c=this.matchState(0),this.faStack.pop(),p=function(){return s===t.POS?(this.restorePos(l,f,d,u),!!c||(this.updateError(),!1)):s===t.NEG?(this.restorePos(l,f,d,u),!c||(this.updateError(),!1)):c?s===t.VOID||(s===t.PRUNE?0===(r=c.length)||(1===r?c[0]:new e(h,c,[l,this.inputPos])):new e(h,c,[l,this.inputPos])):this.updateError()}.call(this),this.cache[a]=[p,this.inputPos,this.line,this.column,this.lastCR],p)},r.prototype.matchState=function(e){var n;return n=this.faStack[this.faStack.length-1].states[e],this.matchEdges(n.edges,0)||n.match&&[]},r.prototype.matchEdges=function(e,n){return n!==e.length&&(this.matchEdge(e[n])||this.matchEdges(e,n+1))},r.prototype.matchEdge=function(e){var n,t,r,i,o,a,s;return o=this.inputPos,i=this.line,r=this.column,t=this.lastCR,a=e.trans,!!(n=-1===a?this.inputPos<this.inputLen?this.mv():this.updateError():"string"==typeof a?this.inputPos<this.inputLen&&a===this.input[this.inputPos]?this.mv():this.updateError():a instanceof Array?this.inputPos<this.inputLen&&this.withinSet(a,0,this.input[this.inputPos].charCodeAt(0))?this.mv():this.updateError():"number"==typeof a&&this.matchAutomaton(a))&&(s=this.matchState(e.state),s?e.voided||!0===n?s:[n].concat(s):(this.restorePos(o,i,r,t),!1))},r.prototype.restorePos=function(e,n,t,r){return this.inputPos=e,this.line=n,this.column=t,this.lastCR=r},r.prototype.updateError=function(){return this.errorPos<this.inputPos&&(this.errorPos=this.inputPos,this.errorLine=this.line,this.errorCol=this.column,this.errorNT=this.faStack[this.faStack.length-1].type),!1},r.prototype.mv=function(){var e;return e=this.input[this.inputPos],this.inputPos++,"\r"===e?(this.line++,this.column=0,this.lastCR=!0):("\n"===e?this.lastCR||(this.line++,this.column=0):this.column++,this.lastCR=!1),e},r.prototype.doEOFCheck=function(e){return e?this.eofCheck&&this.inputPos<this.inputLen?new i(this.errorPos,this.errorLine,this.errorCol,this.errorNT):e:new i(this.errorPos,this.errorLine,this.errorCol,this.errorNT)},r.prototype.withinSet=function(e,n,t){var r;return n!==e.length&&(r=e[n],"string"==typeof r?r.charCodeAt(0)===t||r.charCodeAt(0)<t&&this.withinSet(e,n+1,t):t>=r[0]&&t<=r[1]||t>r[1]&&this.withinSet(e,n+1,t))},{Edge:n,State:o,FA:t,ParseError:i,AST:e,WaxeyeParser:a}}(),void 0!==e&&null!==e&&(e.exports.AST=n.AST,e.exports.Edge=n.Edge,e.exports.FA=n.FA,e.exports.ParseError=n.ParseError,e.exports.State=n.State,e.exports.WaxeyeParser=n.WaxeyeParser)}).call(n,t(14)(e))},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n,t){"use strict";function r(e,n,t){var r=null;return r=n?d.clone(n,!1):u.createContainerRoot(),u.root(r),t.warnings=[],t.identifiers=[],Promise.resolve().then(function(){var n=[];return e.children.forEach(function(e){e.children.forEach(function(e){if("function"!=typeof s[e.type])throw new Error('Unknown statement "'+e.type+'"');n.push(function(){return s[e.type](r,c,e,t)})})}),n}).then(function(e){return e.reduce(function(e,n){return e.then(n)},Promise.resolve())}).then(function(){return new Promise(function(e){o(r),e()}).then(function(){return{error:null,model:r,warnings:t.warnings}}).catch(function(n){return e.children.map(function(e){return e.children[0]}).filter(function(e){return"add"===e.type}).some(function(e){var t=e.instances[n.path];return!!t&&(n.pos=t,!0)}),{error:n,model:null,warnings:t.warnings}}).then(function(e){return a(r),e})}).catch(function(e){return{error:e,model:null,warnings:t.warnings}})}var i=t(1),o=t(16),a=t(17),s={addRepo:t(18),add:t(19),move:t(24),attach:t(25),addBinding:t(26),delBinding:t(27),include:t(28),set:t(29),network:t(31),remove:t(32),detach:t(33),namespace:t(34),start:t(35),stop:t(36),pause:t(37)},c={typeDef:t(38),typeFQN:t(39),nameList:t(41),instancePath:t(42),wildcard:t(43),string:t(44),string2:t(45),string3:t(46),repoString:t(47),version:t(48),anything:t(49),realString:t(50),realStringNoNewLine:t(51),newLine:t(52),singleQuoteLine:t(53),doubleQuoteLine:t(54),escaped:t(55),ctxVar:t(56),genCtxVar:t(57),tdefVersion:t(58),duVersion:t(59),integer:t(60),latest:t(61),release:t(62),versionDecl:t(63),versionLine:t(64),versionLines:t(65)},u=new i.factory.DefaultKevoreeFactory,d=u.createModelCloner();e.exports=r},function(e,n){e.exports=t},function(e,n,t){"use strict";function r(e){var n=0;if(0===e.length)return n+"";for(var t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}return(268435455&n)+""}function i(e){return r((e.hub?e.hub.path():"UNDEFINED")+"_"+(e.port?e.port.path():"UNDEFINED"))}function o(e){e.mBindings.array.forEach(function(e){e.generated_KMF_ID=i(e)})}e.exports=o},function(e,n,t){"use strict";e.exports=function(e,n,t,r){return Promise.resolve().then(function(){r.warnings.push({message:'"repo" statement is deprecated',pos:t.pos})})}},function(e,n,t){"use strict";function r(e){var n=new o.factory.DefaultKevoreeFactory,t=e.typeDefinition.dictionaryType;if(t){var r=n.createDictionary().withGenerated_KMF_ID("0.0");t.attributes.array.forEach(function(e){if(!e.fragmentDependant){var t=n.createValue();t.name=e.name,t.value=e.defaultValue,r.addValues(t)}}),e.dictionary=r}}function i(e){var n=new o.factory.DefaultKevoreeFactory;e.typeDefinition.provided.array.forEach(function(t){var r=n.createPort();r.name=t.name,r.portTypeRef=t,e.addProvided(r)}),e.typeDefinition.required.array.forEach(function(t){var r=n.createPort();r.name=t.name,r.portTypeRef=t,e.addRequired(r)})}var o=t(1),a=t(0),s=t(3),c=t(23);e.exports=function(e,n,t,u){t.instances||(t.instances={});var d=n[t.children[0].type](e,n,t.children[0],u),f=n[t.children[1].type](e,n,t.children[1],u);return Promise.resolve().then(function(){return u.logger.debug("KevScript","Trying to resolve "+f),u.resolver.resolve(f,e).then(function(e){if(e)return e;throw new a("Unable to resolve "+f)}).catch(function(e){throw e.pos=t.children[1].pos,e})}).then(c).then(function(n){var c=new o.factory.DefaultKevoreeFactory;d.forEach(function(o,d){var f=void 0;if(1===o.length){if(-1!==u.identifiers.indexOf(o[0]))throw new a('Instance name "'+o[0]+'" is already used. Add failed',t.children[0].children[d].pos);if("org.kevoree.NodeType"===n.metaClassName())f=e.findNodesByID(o[0])||c.createContainerNode(),f.name=o[0],f.started=!0,f.typeDefinition=n,r(f),e.addNodes(f),t.instances[f.path()]=t.children[0].children[d].pos;else if("org.kevoree.GroupType"===n.metaClassName())f=e.findGroupsByID(o[0])||c.createGroup(),f.name=o[0],f.started=!0,f.typeDefinition=n,r(f),e.addGroups(f),t.instances[f.path()]=t.children[0].children[d].pos;else{if("org.kevoree.ChannelType"!==n.metaClassName())throw new a('Components must be added in nodes (eg. "add aNode.'+o[0]+": "+n.name+'"). "'+o+'" is not valid',t.children[0].children[d].pos);f=e.findHubsByID(o[0])||c.createChannel(),f.name=o[0],f.started=!0,f.typeDefinition=n,r(f),e.addHubs(f),t.instances[f.path()]=t.children[0].children[d].pos}u.identifiers.push(o[0])}else{if(2!==o.length)throw new a('Instance path for "add" statements must be "name" or "hostName.childName". Instance path "'+o+'" is not valid',t.children[0].children[d].pos);if("org.kevoree.NodeType"===n.metaClassName()){if("*"===o[0])throw new a('Add statement with "*" only works for component type',t.children[0].children[d].pos);var l=e.findNodesByID(o[0]);if(!l)throw new a('Unable to add node "'+o[1]+'" to "'+o[0]+'". "'+o[0]+'" does not exist',t.children[0].children[d].children[0].pos);f=e.findNodesByID(o[1])||c.createContainerNode(),f.name=o[1],f.started=!0,f.typeDefinition=n,r(f),l.addHosts(f),f.host=l,e.addNodes(f),t.instances[f.path()]=o.pos}else{if("org.kevoree.ComponentType"!==n.metaClassName())throw new a('Instance "'+o[1]+'" of type '+n.metaClassName()+" cannot be added to a node",t.children[0].children[d].pos);var h=e.select("/nodes["+o[0]+"]").array;if(0===h.length)throw"*"===o[0]?new a('Unable to find any node instance to host "'+o[1]+'". Add failed',t.children[0].children[d].children[0].pos):new a('Unable to find any node instance named "'+o[0]+'" to host "'+o[1]+'". Add failed',t.children[0].children[d].children[0].pos);h.forEach(function(e){if(!e.host){if(-1!==u.identifiers.indexOf(e.name+"."+o[1]))throw new a('Instance name "'+o[1]+'" is already used in "'+o[0]+'". Add failed',t.children[0].children[d].pos);if(!s.isCompatible(n,e))throw new a("Unable to add '"+o[1]+"' ("+n.name+"/"+n.version+") to '"+e.name+"' ("+e.typeDefinition.name+"/"+e.typeDefinition.version+"), no available '"+s.getPlatforms(e.typeDefinition)[0]+"' platform",o[1].pos);f=e.findComponentsByID(o[1])||c.createComponentInstance(),f.name=o[1],f.started=!0,f.typeDefinition=n,r(f),i(f),e.addComponents(f),t.instances[f.path()]=t.children[0].children[d].pos,u.identifiers.push(e.name+"."+o[1])}})}}})})}},function(e,n,t){(function(e,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),w(t)?r.showHidden=t:t&&n._extend(r,t),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,e,r.depth)}function o(e,n){var t=i.styles[n];return t?"["+i.colors[t][0]+"m"+e+"["+i.colors[t][1]+"m":e}function a(e,n){return e}function s(e){var n={};return e.forEach(function(e,t){n[e]=!0}),n}function c(e,t,r){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return y(i)||(i=c(e,i,r)),i}var o=u(e,t);if(o)return o;var a=Object.keys(t),w=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),x(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(t);if(0===a.length){if(T(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(A(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return d(t)}var v="",m=!1,E=["{","}"];if(p(t)&&(m=!0,E=["[","]"]),T(t)){v=" [Function"+(t.name?": "+t.name:"")+"]"}if(b(t)&&(v=" "+RegExp.prototype.toString.call(t)),A(t)&&(v=" "+Date.prototype.toUTCString.call(t)),x(t)&&(v=" "+d(t)),0===a.length&&(!m||0==t.length))return E[0]+v+E[1];if(r<0)return b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=m?f(e,t,r,w,a):a.map(function(n){return l(e,t,r,w,n,m)}),e.seen.pop(),h(S,v,E)}function u(e,n){if(S(n))return e.stylize("undefined","undefined");if(y(n)){var t="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return m(n)?e.stylize(""+n,"number"):w(n)?e.stylize(""+n,"boolean"):g(n)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,n,t,r,i){for(var o=[],a=0,s=n.length;a<s;++a)L(n,String(a))?o.push(l(e,n,t,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(e,n,t,r,i,!0))}),o}function l(e,n,t,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(n,i)||{value:n[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),L(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(t)?c(e,u.value,null):c(e,u.value,t-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),S(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,n,t){var r=0;return e.reduce(function(e,n){return r++,n.indexOf("\n")>=0&&r++,e+n.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?t[0]+(""===n?"":n+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+n+" "+e.join(", ")+" "+t[1]}function p(e){return Array.isArray(e)}function w(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function S(e){return void 0===e}function b(e){return F(e)&&"[object RegExp]"===N(e)}function F(e){return"object"==typeof e&&null!==e}function A(e){return F(e)&&"[object Date]"===N(e)}function x(e){return F(e)&&("[object Error]"===N(e)||e instanceof Error)}function T(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function N(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}function I(){var e=new Date,n=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],n].join(" ")}function L(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var O=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var n=[],t=0;t<arguments.length;t++)n.push(i(arguments[t]));return n.join(" ")}for(var t=1,r=arguments,o=r.length,a=String(e).replace(O,function(e){if("%%"===e)return"%";if(t>=o)return e;switch(e){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch(e){return"[Circular]"}default:return e}}),s=r[t];t<o;s=r[++t])g(s)||!F(s)?a+=" "+s:a+=" "+i(s);return a},n.deprecate=function(t,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}if(S(e.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===r.noDeprecation)return t;var a=!1;return o};var P,j={};n.debuglog=function(e){if(S(P)&&(P=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!j[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var t=r.pid;j[e]=function(){var r=n.format.apply(n,arguments);console.error("%s %d: %s",e,t,r)}}else j[e]=function(){};return j[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=w,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=m,n.isString=y,n.isSymbol=E,n.isUndefined=S,n.isRegExp=b,n.isObject=F,n.isDate=A,n.isError=x,n.isFunction=T,n.isPrimitive=D,n.isBuffer=t(21);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=t(22),n._extend=function(e,n){if(!n||!F(n))return e;for(var t=Object.keys(n),r=t.length;r--;)e[t[r]]=n[t[r]];return e}}).call(n,t(6),t(2))},function(e,n){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,n){"function"==typeof Object.create?e.exports=function(e,n){e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,n){e.super_=n;var t=function(){};t.prototype=n.prototype,e.prototype=new t,e.prototype.constructor=e}},function(e,n,t){"use strict";var r=t(4),i=t(3);e.exports=function(e){return i.getPlatforms(e).forEach(function(n){var t=e.select("deployUnits[]/filters[name=platform,value="+n+"]").array.map(function(e){return e.eContainer()});if(t.length>1)for(var i=t[0],o=1;o<t.length;o++)if(r.gt(i.version,t[o].version))t[o].delete();else if(r.lt(i.version,t[o].version))i.delete(),i=t[o];else{var a=i.findFiltersByID("timestamp"),s=t[o].findFiltersByID("timestamp");if(a&&s){var c=parseInt(a.value,10),u=parseInt(s.value,10);c>u?t[o].delete():c<u?(i.delete(),i=t[o]):i.hashcode>t[o].hashcode?t[o].delete():i.hashcode<t[o].hashcode?(i.delete(),i=t[o]):t[o].delete()}else a&&!s?t[o].delete():(i.delete(),i=t[o])}}),e}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e,n,t,i){var o=n[t.children[0].type](e,n,t.children[0],i),a=n[t.children[1].type](e,n,t.children[1],i),s=[];if(1!==a.length)throw new r("Move target path is invalid ("+a.join(".")+" should refer to node instances)",t.children[1].pos);if(s=e.select("/nodes["+a[0]+"]").array,0===s.length)throw"*"===a[0]?new r('Unable to find any node instance". Move failed',t.children[1].pos):new r('Unable to find any node instance named "'+a[0]+'". Move failed',t.children[1].pos);o.forEach(function(n,o){var a=[];if(1===n.length){if("*"===n[0])throw new r('Wildcard "*" cannot be used for nodes. Move failed',t.children[0].children[o].children[0].pos);if(a=[].concat(e.findNodesByID(n[0])),0===a.length)throw new r('Unable to find any node instance named "'+n[0]+'". Move failed',t.children[0].children[o].children[0].pos)}else{if(2!==n.length)throw new r('"'+n+'" is not a valid move path for an instance',t.children[0].children[o].pos);var c=e.select("/nodes["+n[0]+"]").array;if(0===c.length)throw"*"===n[0]?new r('Unable to find any node instance that hosts "'+n[1]+'". Move failed',t.children[0].children[o].children[0].pos):new r('Unable to find any node instance named "'+n[0]+'" that hosts "'+n[1]+'". Move failed',t.children[0].children[o].children[0].pos);c.forEach(function(e){var i=e.select("components["+n[1]+"]").array;if(0===i.length)throw"*"===n[1]?new r('Unable to find any component in host "'+e.name+'". Move failed',t.children[0].children[o].children[1].pos):new r('Unable to find any component named "'+n[1]+'" in host "'+e.name+'". Move failed',t.children[0].children[o].children[1].pos);a=a.concat(i)})}a.forEach(function(e){"org.kevoree.ComponentInstance"===e.metaClassName()?(i.identifiers.splice(i.identifiers.indexOf(e.eContainer().name+"."+e.name),1),s.forEach(function(n){if(-1!==i.identifiers.indexOf(n.name+"."+e.name))throw new r('There is already a component named "'+e.name+'" in "'+n.name+'". Move failed',t.children[0].children[o].children[1].pos);n.addComponents(e)})):(i.identifiers.splice(i.identifiers.indexOf(e.host.name+"."+e.name),1),s.forEach(function(n){if(-1===i.identifiers.indexOf(n.name+"."+e.name))throw new r('There is already a subNode named "'+e.name+'" in "'+n.name+'". Move failed',t.children[0].children[o].children[1].pos);n.addHosts(e),e.host=n}))})})}},function(e,n,t){"use strict";function r(e){var n=new i.factory.DefaultKevoreeFactory;e.groups.array.forEach(function(t){var r=t.findFragmentDictionaryByID(e.name);r||(r=n.createFragmentDictionary().withGenerated_KMF_ID("0.0"),r.name=e.name,t.addFragmentDictionary(r));var i=t.typeDefinition.dictionaryType;i&&i.attributes.array.forEach(function(e){if(e.fragmentDependant&&e.defaultValue){var t=n.createValue();t.name=e.name,t.value=e.defaultValue,r.addValues(t)}})}),e.components.array.forEach(function(t){t.provided.array.concat(t.required.array).forEach(function(t){t.bindings.array.forEach(function(t){if(t.hub){var r=t.hub.findFragmentDictionaryByID(e.name);r||(r=n.createFragmentDictionary().withGenerated_KMF_ID("0.0"),r.name=e.name,t.hub.addFragmentDictionary(r));var i=t.hub.typeDefinition.dictionaryType;i&&i.attributes.array.forEach(function(e){if(e.fragmentDependant&&e.defaultValue){var t=n.createValue();t.name=e.name,t=e.defaultValue,r.addValues(t)}})}})})})}var i=t(1),o=t(0);e.exports=function(e,n,t,i){var a=n[t.children[0].type](e,n,t.children[0],i),s=n[t.children[1].type](e,n,t.children[1],i),c=[];if(1!==s.length)throw new o("Attach target path is invalid ("+s+")",t.children[1].pos);if(c=e.select("/groups["+s[0]+"]").array,"*"!==s[0]&&0===c.length)throw new o('Unable to find group instance "'+s[0]+'". Attach failed',t.children[1].children[0].pos);a.forEach(function(n,i){if(1!==n.length)throw new o('"'+n+'" is not a valid attach path for a node',t.children[1].pos);var a=e.select("/nodes["+n+"]").array;if("*"!==n&&0===a.length)throw new o('Unable to attach node instance "'+n+'". Instance does not exist',t.children[0].children[i].pos);a.forEach(function(e){c.forEach(function(n){e.addGroups(n),n.addSubNodes(e)}),r(e)})})}},function(e,n,t){"use strict";function r(e,n,t){return e.mBindings.array.some(function(e){return!(!e.hub||!e.port)&&(e.hub.name===n.name&&e.port.path()===t.path())})}var i=t(1),o=t(0);e.exports=function(e,n,t,a){var s=n[t.children[0].type](e,n,t.children[0],a),c=n[t.children[1].type](e,n,t.children[1],a),u=[];if(1!==c.length)throw new o("Bind target path is invalid ("+c.join(".")+")",t.children[1].pos);if("*"===c[0])u=e.hubs.array;else{var d=e.findHubsByID(c[0]);if(!d)throw new o('Unable to find chan instance "'+c[0]+'". Bind failed',t.children[1].children[0].pos);u.push(d)}var f=[];if(3!==s.length)throw new o('"'+s.value+'" is not a valid bind path for a port',t.children[0].pos);if("*"===s[0])f=e.nodes.array;else{var l=e.findNodesByID(s[0]);if(!l)throw new o('Unable to find node instance "'+s[0]+'". Bind failed',t.children[0].children[0].pos);f.push(l)}var h=[];f.forEach(function(e){if("*"===s[1])h=h.concat(e.components.array);else{var n=e.findComponentsByID(s[1]);if(!n)throw new o('Unable to find component instance "'+s[1]+'" in node "'+s[0]+'". Bind failed',t.children[0].children[1].pos);h.push(n)}});var p=[];h.forEach(function(e){if("*"===s[2])p=p.concat(e.provided.array).concat(e.required.array);else{var n=e.findProvidedByID(s[2]);if(n)p.push(n);else{if(!(n=e.findRequiredByID(s[2])))throw new o('Component "'+e.name+'" in node "'+e.eContainer().name+'" has no port named "'+s[2]+'". Bind failed',t.children[0].children[2].pos);p.push(n)}}});var w=new i.factory.DefaultKevoreeFactory;u.forEach(function(n){p.forEach(function(t){if(!r(e,n,t)){var i=w.createMBinding();i.hub=n,i.port=t,n.addBindings(i),t.addBindings(i),e.addMBindings(i)}})})}},function(e,n,t){"use strict";function r(e,n,t){return e.mBindings.array.filter(function(e){return!(!e.hub||!e.port||e.hub.name!==n.name||e.port.path()!==t.path())&&e})}var i=t(0);e.exports=function(e,n,t,o){var a=n[t.children[0].type](e,n,t.children[0],o),s=n[t.children[1].type](e,n,t.children[1],o),c=[];if(1!==s.length)throw new i("Unbind target path is invalid ("+s.join(".")+")",t.children[1].pos);if("*"===s[0])c=e.hubs.array;else{var u=e.findHubsByID(s[0]);if(!u)throw new i('Unable to find chan instance "'+s[0]+'". Unbind failed',t.children[1].children[0].pos);c.push(u)}var d=[];if(3!==a.length)throw new i('"'+a.value+'" is not a valid unbind path for a port',t.children[0].pos);if("*"===a[0])d=e.nodes.array;else{var f=e.findNodesByID(a[0]);if(!f)throw new i('Unable to find node instance "'+a[0]+'". Unbind failed',t.children[0].children[0].pos);d.push(f)}var l=[];d.forEach(function(e){if("*"===a[1])l=l.concat(e.components.array);else{var n=e.findComponentsByID(a[1]);if(!n)throw new i('Unable to find component instance "'+a[1]+'" in node "'+a[0]+'". Unbind failed',t.children[0].children[1].pos);l.push(n)}});var h=[];l.forEach(function(e){if("*"===a[2])h=h.concat(e.provided.array).concat(e.required.array);else{var n=e.findProvidedByID(a[2]);if(n)h.push(n);else{if(!(n=e.findRequiredByID(a[2])))throw new i('Component "'+e.name+'" in node "'+e.eContainer().name+'" has no port named "'+a[2]+'". Unbind failed',t.children[0].children[2].pos);h.push(n)}}}),c.forEach(function(n){h.forEach(function(t){r(e,n,t).forEach(function(n){n.hub&&n.hub.removeBindings(n),n.port&&n.port.removeBindings(n),e.removeMBindings(n)})})})}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){r.warnings.push({message:'"include" statement is deprecated',pos:t.pos})}},function(e,n,t){"use strict";function r(e,n,t,r){if(!n.optional&&0===r.length)throw new o('Non-optional attribute "'+n.name+'" in "'+e.path()+'" must have a value',t);switch(n.datatype.toString()){case"BOOLEAN":if("true"!==r&&"false"!==r)throw new o('Attribute "'+n.name+'" in "'+e.path()+'" must have a value of "true" or "false"',t);break;case"INT":case"LONG":case"SHORT":case"DOUBLE":case"FLOAT":var i=parseInt(r,10);if(isNaN(i))throw new o('Attribute "'+n.name+'" in "'+e.path()+'" cannot be converted to a "'+n.datatype.toString().toLowerCase()+'"',t)}}var i=t(1),o=t(0),a=t(30);e.exports=function(e,n,t,s){var c=t.children[0],u=void 0,d=void 0;3===t.children.length?(u=t.children[2],d=a(e,n,t.children[1],s)):u=t.children[1];var f=n[c.type](e,n,c,s);if(c.children.length<2)throw new o('"'+f.join("")+'" is not a valid path to a parameter. Set failed',c.pos);var l=c.children.splice(-1)[0],h=n[c.type](e,n,c,s),p=a(e,n,c,s);if(0===p.length)throw new o('Unable to find any instances that matches "'+h.join(".")+'". Set failed',c.pos);var w=n[l.type](e,n,l,s);if("*"===w)throw new o("You must not use wildcard (*) for parameter name. Set failed",c.pos);var g=n[u.type](e,n,u,s),v=new i.factory.DefaultKevoreeFactory;d?d.forEach(function(e){p.forEach(function(n){var t=n.select("fragmentDictionary["+e.name+"]").array;if(0===t.length)throw new o('Unable to find any fragment dictionary named "'+e.name+'" in instance "'+n.name+'". Set failed',l.pos);if(!n.typeDefinition.dictionaryType)throw new o('Type "'+n.typeDefinition.name+'" does not have any fragment dictionary to set. Set failed',l.pos);var i=n.typeDefinition.dictionaryType.findAttributesByID(w);if(!i)throw new o('Type "'+n.typeDefinition.name+'" does not have any "'+w+'" parameter in its dictionary. Set failed',l.pos);if(!i.fragmentDependant)throw new o('Type "'+n.typeDefinition.name+'" has a param "'+w+'" but it is not fragment dependent. Set failed',l.pos);t.forEach(function(e){var t=e.findValuesByID(w);t||(t=v.createValue(),t.name=w,e.addValues(t)),r(n,i,u.pos,g),t.value=g})})}):p.forEach(function(e){if(!e.typeDefinition.dictionaryType)throw new o('Type "'+e.typeDefinition.name+'" does not have any dictionary to set. Set failed',c.pos);var n=e.typeDefinition.dictionaryType.findAttributesByID(w);if(!n)throw new o('Type "'+e.typeDefinition.name+'" does not have any "'+w+'" parameter in its dictionary. Set failed',l.pos);if(n.fragmentDependant)throw new o('Type "'+e.typeDefinition.name+'" has a param "'+w+'" but it is fragment dependent. Set failed',l.pos);var t=e.dictionary.findValuesByID(w);t||(t=v.createValue(),t.name=w,e.dictionary.addValues(t)),r(e,n,u.pos,g),t.value=g})}},function(e,n,t){"use strict";function r(e,n,t,o){var a=void 0;if("instancePath"===t.type){if(2===t.children.length){var s=n[t.children[0].type](e,n,t.children[0],o),c=n[t.children[1].type](e,n,t.children[1],o),u=e.select("/nodes["+s+"]").array;if(0===u.length)throw new i('Unable to find any node instance named "'+s+'"',t.children[0].pos);return u.reduce(function(e,n){var r=n.select("components["+c+"]").array,o=n.select("hosts["+c+"]").array,a=r.concat(o);if("*"!==c&&0===a.length)throw new i('Unable to find any instance named "'+c+'" in host "'+n.name+'"',t.children[1].pos);return e.concat(a)},[])}var d=n[t.children[0].type](e,n,t.children[0],o);if(a=e.select("/groups["+d+"]").array.concat(e.select("/hubs["+d+"]").array).concat(e.select("/nodes["+d+"]").array),"*"!==d&&0===a.length)throw new i('Unable to find any instance named "'+d+'"',t.children[0].pos);return a}if("nameList"===t.type)return t.children.reduce(function(t,i){return t.concat(r(e,n,i,o))},[]);if("string"===t.type){var f=n[t.type](e,n,t,o);if(a=e.select("/nodes["+f+"]").array.concat(e.select("/groups["+f+"]").array).concat(e.select("/hubs["+f+"]").array),"*"!==f&&0===a.length)throw new i('No group/channel/node found named "'+f+'"',t.pos);return a}throw new Error("instanceResolver() should not process anything but instancePath & nameList")}var i=t(0);e.exports=r},function(e,n,t){"use strict";var r=t(1),i=t(0);e.exports=function(e,n,t,o){var a=n[t.children[0].type](e,n,t.children[0],o),s=n[t.children[1].type](e,n,t.children[1],o);if(3!==a.length)throw new i('"'+a[0]+'" is not a network path. Network path must look like "nodeName.netType.netName"',t.children[0].children[0].pos);var c=[];if("*"===a[0])c=e.nodes.array;else{var u=e.findNodesByID(a[0]);if(!u)throw new i('Unable to find node instance "'+a[0]+'". Network failed',t.children[0].children[0].pos);c.push(u)}var d=new r.factory.DefaultKevoreeFactory,f=[];"*"===a[1]?c.forEach(function(e){f=f.concat(e.networkInformation.array)}):c.forEach(function(e){var n=e.findNetworkInformationByID(a[1]);n?f.push(n):(n=d.createNetworkInfo(),n.name=a[1],e.addNetworkInformation(n),f.push(n))});var l=[];"*"===a[2]?f.forEach(function(e){l=l.concat(e.values.array)}):f.forEach(function(e){var n=e.findValuesByID(a[2]);n?l.push(n):(n=d.createValue(),n.name=a[2],e.addValues(n),l.push(n))}),l.forEach(function(e){e.value=s})}},function(e,n,t){"use strict";function r(e,n){e.groups.array.forEach(function(e){var t=e.findFragmentDictionaryByID(n.name);t&&e.removeFragmentDictionary(t)}),e.hubs.array.forEach(function(e){var t=e.findFragmentDictionaryByID(n.name);t&&e.removeFragmentDictionary(t)}),n.components.array.forEach(function(n){n.provided.array.concat(n.required.array).forEach(function(n){n.bindings.array.forEach(function(n){n.hub.removeBindings(n),e.removeMBindings(n)})})}),n.groups.array.forEach(function(e){e.removeSubNodes(n)}),n.host&&n.host.removeHosts(n),e.removeNodes(n)}function i(e,n){n.subNodes.array.forEach(function(e){e.removeGroups(n)}),e.removeGroups(n)}function o(e,n){e.mBindings.array.forEach(function(t){t.hub.name===n.name&&(t.port&&t.port.removeBindings(t),t.hub&&t.hub.removeBindings(t),e.removeMBindings(t))}),e.removeHubs(n)}function a(e,n){n.provided.array.concat(n.required.array).forEach(function(n){n.bindings.array.forEach(function(n){n.port&&n.port.removeBindings(n),n.hub&&n.hub.removeBindings(n),e.removeMBindings(n)})}),n.eContainer().removeComponents(n)}function s(e,n,t){if("*"===n)t.components.array.forEach(function(n){a(e,n)}),t.hosts.array.forEach(function(n){r(e,n)});else{var i=t.findComponentsByID(n);i&&a(e,i);var o=t.findHostsByID(n);o&&r(e,o)}}var c=t(0);e.exports=function(e,n,t,a){n[t.children[0].type](e,n,t.children[0],a).forEach(function(n,u){if(1===n.length){var d=e.select("/nodes["+n[0]+"]").array.concat(e.select("/groups["+n[0]+"]").array).concat(e.select("/hubs["+n[0]+"]").array).concat(e.select("/mBindings["+n[0]+"]").array);if("*"!==n[0]&&0===d.length)throw new c('Unable to find any instance named "'+n[0]+'". Remove failed',t.children[0].children[u].children[0].pos);d.forEach(function(n){n.name&&a.identifiers.splice(a.identifiers.indexOf(n.name),1),"org.kevoree.ContainerNode"===n.metaClassName()?r(e,n):"org.kevoree.Group"===n.metaClassName()?i(e,n):"org.kevoree.Channel"===n.metaClassName()?o(e,n):n.delete()})}else{if(2!==n.length)throw new c('Instance path for "remove" statements must be "name" or "hostName.childName". Instance path "'+t.children[0].pos+'" is not valid',t.children[0].children[0].pos);var f=e.select("/nodes["+n[0]+"]").array;if(0===f.length)throw"*"===n[0]?new c('Unable to find any node instance that host "'+n[1]+'". Remove failed',t.children[0].children[u].pos):new c('Unable to find any node instance named "'+n[0]+'" that host "'+n[1]+'". Remove failed',t.children[0].children[u].pos);f.forEach(function(t){a.identifiers.splice(a.identifiers.indexOf(t.name+"."+n[1]),1),s(e,n[1],t)})}})}},function(e,n,t){"use strict";function r(e){e.groups.array.forEach(function(n){var t=n.findFragmentDictionaryByID(e.name);t&&t.delete()}),e.components.array.forEach(function(n){n.provided.array.concat(n.required.array).forEach(function(n){n.bindings.array.forEach(function(n){if(n.hub){var t=n.hub.findFragmentDictionaryByID(e.name);t&&t.delete()}})})})}var i=t(0);e.exports=function(e,n,t,o){var a=n[t.children[0].type](e,n,t.children[0],o),s=n[t.children[1].type](e,n,t.children[1],o),c=[];if(1!==s.length)throw new i("Detach target path is invalid ("+s+")",t.children[1].pos);if(c=e.select("/groups["+s[0]+"]").array,"*"!==s[0]&&0===c.length)throw new i('Unable to find group instance "'+s[0]+'". Detach failed',t.children[1].children[0].pos);a.forEach(function(n,o){if(1!==n.length)throw new i('"'+n+'" is not a valid detach path for a node',t.children[1].pos);var a=e.select("/nodes["+n+"]").array;if("*"!==n&&0===a.length)throw new i('Unable to detach node instance "'+n+'". Instance does not exist',t.children[0].children[o].pos);a.forEach(function(e){r(e),c.forEach(function(n){e.removeGroups(n),n.removeSubNodes(e)})})})}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){r.warnings.push({message:'"namespace" statement is deprecated',pos:t.pos})}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e,n,t,i){n[t.children[0].type](e,n,t.children[0],i).forEach(function(n,i){var o=[];if(1===n.length)o=e.select("/nodes["+n[0]+"]").array.concat(e.select("/groups["+n[0]+"]").array).concat(e.select("/hubs["+n[0]+"]").array);else{if(2!==n.length)throw new r('"'+n.value+'" is not a valid path for an instance. Start failed',t.children[0].children[i].pos);o=e.select("/nodes["+n[0]+"]/components["+n[1]+"]").array.concat(e.select("/nodes["+n[0]+"]/hosts["+n[1]+"]").array)}if(-1===n.indexOf("*")&&0===o.length)throw new r('Unable to start "'+n+'". Instance does not exist',t.children[0].pos);o.forEach(function(e){e.started=!0})})}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e,n,t,i){n[t.children[0].type](e,n,t.children[0],i).forEach(function(n,i){var o=[];if(1===n.length)o=e.select("/nodes["+n[0]+"]").array.concat(e.select("/groups["+n[0]+"]").array).concat(e.select("/hubs["+n[0]+"]").array);else{if(2!==n.length)throw new r('"'+n+'" is not a valid path for an instance. Stop failed',t.children[0].children[i].pos);o=e.select("/nodes["+n[0]+"]/components["+n[1]+"]").array.concat(e.select("/nodes["+n[0]+"]/hosts["+n[1]+"]").array)}if(-1===n.indexOf("*")&&0===o.length)throw new r('Unable to stop "'+n+'". Instance does not exist',t.children[0].pos);o.forEach(function(e){e.started=!1})})}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){r.warnings.push({message:'"pause" statement is deprecated',pos:t.pos})}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){var i=n[t.children[0].type](e,n,t.children[0],r),o=void 0;return t.children[1]&&(o=n[t.children[1].type](e,n,t.children[1],r),i.version=o),i}},function(e,n,t){"use strict";var r=t(0),i=t(40);e.exports=function(e,n,t){var o=t.children.filter(function(e){return e.type}).map(function(t){return n[t.type](e,n,t)}),a=void 0,s=void 0;if(o.length>2)throw new r("Namespaces should no longer contain dots.",t.pos);return 1===o.length?(a="kevoree",s=o[0]):(a=o[0],s=o[1]),new i(a,s)}},function(e,n,t){"use strict";function r(e,n,t){this.namespace=e,this.name=n,this.version=Object.assign({tdef:"LATEST",du:"RELEASE"},t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.prototype={toString:function(){return"object"===i(this.version.du)?this.namespace+"."+this.name+"/"+this.version.tdef+"/"+JSON.stringify(this.version.du):this.namespace+"."+this.name+"/"+this.version.tdef+"/"+this.version.du},toKevoreePath:function(){return"LATEST"===this.version.tdef?"/packages["+this.namespace+"]/typeDefinitions[name="+this.name+"]":"/packages["+this.namespace+"]/typeDefinitions[name="+this.name+",version="+this.version.tdef+"]"},clone:function(){var e=new r(this.namespace,this.name,{});return e.version.tdef=this.version.tdef,e.version.du=this.version.du,e}},e.exports=r},function(e,n,t){"use strict";e.exports=function(e,n,t,r){return t.children.map(function(t){return n[t.type](e,n,t,r)})}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){return t.children.map(function(t){return n[t.type](e,n,t,r)})}},function(e,n,t){"use strict";e.exports=function(){return"*"}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){var i=n[t.children[0].type](e,n,t.children[0],r),o="RELEASE";return 2===t.children.length&&(o=n[t.children[1].type](e,n,t.children[1],r)),{tdef:i,du:o}}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){var i="";for(var o in t.children)"string"==typeof t.children[o]?i+=t.children[o]:t.children[o]instanceof Object&&(i+=n[t.children[o].type](e,n,t.children[o],r));return i}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(){return"\n"}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";e.exports=function(e,n,t){return t.children.join("")}},function(e,n,t){"use strict";var r=t(0),i=t(7);e.exports=function(e,n,t,o){var a=void 0,s=n[t.children[0].type](e,n,t.children[0]);if(o.ignoreCtxVars)o.ctxVars[s]?a=o.ctxVars[s]:(a="ignore_"+i(3),o.ctxVars[s]=a);else{if(!o.ctxVars[s])throw new r("Missing value for context variable %"+s+"%",t.pos);a=o.ctxVars[s]}return a}},function(e,n,t){"use strict";var r=t(7);e.exports=function(e,n,t,i){var o=void 0,a=n[t.children[0].type](e,n,t.children[0],i);return i.ctxVars[a]?o=i.ctxVars[a]:i.ctxVars[a]=o=r(),o}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){return n[t.children[0].type](e,n,t.children[0],r)}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){return n[t.children[0].type](e,n,t.children[0],r)}},function(e,n,t){"use strict";e.exports=function(e,n,t){return parseInt(t.children.join(""),10)}},function(e,n,t){"use strict";e.exports=function(){return"LATEST"}},function(e,n,t){"use strict";e.exports=function(){return"RELEASE"}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){return t.children.length>0?n[t.children[0].type](e,n,t.children[0],r):{}}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){return{key:n[t.children[0].type](e,n,t.children[0],r),value:n[t.children[1].type](e,n,t.children[1],r)}}},function(e,n,t){"use strict";e.exports=function(e,n,t,r){var i={};return t.children.forEach(function(t){var o=n[t.type](e,n,t,r);i[o.key]=o.value}),i}},function(e,n,t){"use strict";var r=t(67),i=t(68),o=t(69),a=t(70),s=t(71),c=t(72);e.exports=function(e){var n=[r(e),o(e),i(e),a(e),s(e),c(e)],t="";for(var u in n)n.hasOwnProperty(u)&&(t+=n[u],n[u].length>0&&(t+="\n\n"));return t.replace(/^([\n\t\r])+/,"").replace(/([\n\t\r])+$/,"\n")}},function(e,n,t){"use strict";function r(e){function n(e){for(var n={};e.hasNext();){var r=e.next(),o=i.getFQN(r.typeDefinition),a=n[o]||[];a.push(r.name),n[o]=a}for(var s in n)n.hasOwnProperty(s)&&(0!==t.length&&(t+="\n"),t+="add "+n[s].join(", ")+": "+s)}var t="";return function(e){for(var n={};e.hasNext();){var r=e.next(),o=i.getFQN(r.typeDefinition),a=n[o]||[];r.host||a.push(r.name),n[o]=a}for(var s in n)n.hasOwnProperty(s)&&n[s].length>0&&(0!==t.length&&(t+="\n"),t+="add "+n[s].join(", ")+": "+s)}(e.nodes.iterator()),function(e){for(var n={},r={},o=void 0;e.hasNext();){var a=e.next(),s=void 0;a.host&&(s=i.getFQN(a.typeDefinition),o=r[s]||[],o.push(a.host.name+"."+a.name),r[s]=o);for(var c=a.components.iterator();c.hasNext();){var u=c.next();s=i.getFQN(u.typeDefinition),o=n[s]||[],o.push(a.name+"."+u.name),n[s]=o}}var d=void 0;for(d in n)n.hasOwnProperty(d)&&n[d].length>0&&(0!==t.length&&(t+="\n"),t+="add "+n[d].join(", ")+": "+d);for(d in r)r.hasOwnProperty(d)&&r[d].length>0&&(0!==t.length&&(t+="\n"),t+="add "+r[d].join(", ")+": "+d)}(e.nodes.iterator()),n(e.groups.iterator()),n(e.hubs.iterator()),t.replace(/kevoree\./g,"")}var i=t(3);e.exports=r},function(e,n,t){"use strict";function r(e){for(var n=e.groups.iterator(),t="";n.hasNext();){var r=n.next();if(r.subNodes.size()>0){0!==t.length&&(t+="\n"),t+="attach ";for(var i=r.subNodes.iterator();i.hasNext();){t+=i.next().name,i.hasNext()&&(t+=", ")}t+=" "+r.name}}return t}e.exports=r},function(e,n,t){"use strict";function r(e){function n(e,t){for(;e.hasNext();){var i=e.next();i.started||(t?r.push(t.name+"."+i.name):r.push(i.name)),i.components&&n(i.components.iterator(),i),i.hosts&&n(i.hosts.iterator(),i)}}var t="",r=[];return n(e.nodes.iterator()),n(e.groups.iterator()),n(e.hubs.iterator()),r.length>0&&(t="stop "+r.join(", ")),t}e.exports=r},function(e,n,t){"use strict";function r(e){for(var n=e.mBindings.iterator(),t="";n.hasNext();){var r=n.next();0!==t.length&&(t+="\n"),t+="bind "+r.port.eContainer().eContainer().name+"."+r.port.eContainer().name+"."+r.port.name+" "+r.hub.name}return t}e.exports=r},function(e,n,t){"use strict";function r(e){function n(e,n,t,o){n.array.forEach(function(n){o.findAttributesByID(n.name).defaultValue!==n.value&&(0!==r.length&&(r+="\n"),r+=t?"set "+e+"."+n.name+"/"+t+" = "+i(n.value):"set "+e+"."+n.name+" = "+i(n.value))})}function t(e,t){var r=t?t+"."+e.name:e.name;e.dictionary&&n(r,e.dictionary.values.iterator(),null,e.typeDefinition.dictionaryType);for(var i=e.fragmentDictionary.iterator();i.hasNext();){var o=i.next();o&&n(r,o.values.iterator(),o.name,e.typeDefinition.dictionaryType)}}for(var r="",o=e.nodes.iterator();o.hasNext();){var a=o.next();a.host||t(a);for(var s=a.hosts.iterator();s.hasNext();)t(s.next(),a.name);for(var c=a.components.iterator();c.hasNext();)t(c.next(),a.name)}for(var u=e.groups.iterator();u.hasNext();)t(u.next());for(var d=e.hubs.iterator();d.hasNext();)t(d.next());return r}function i(e){if(e){for(var n=!1,t=0;t<e.length;t++){if('"'===e[t]&&!n)return"'"+e+"'";if("'"===e[t]&&!n)return'"'+e+'"';n="\\"===e[t]}return"'"+e+"'"}return"''"}e.exports=r},function(e,n,t){"use strict";function r(e){for(var n="",t=e.nodes.iterator();t.hasNext();)for(var r=t.next(),i=r.networkInformation.iterator();i.hasNext();)for(var o=i.next(),a=o.values.iterator();a.hasNext();){var s=a.next();0!==n.length&&(n+="\n"),n+="network "+r.name+"."+o.name+"."+s.name+" "+s.value}return n}e.exports=r},function(e,n){e.exports=r},function(e,n,t){"use strict";e.exports.fsResolverFactory=t(75),e.exports.lsResolverFactory=t(80),e.exports.tagResolverFactory=t(81),e.exports.modelResolverFactory=t(9),e.exports.registryResolverFactory=t(10)},function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t(76),o=t(1),a=t(5),s=t(77);e.exports=function(e,n){function t(e){return i.resolve(a.get("cache.root"),e.namespace,e.name)}function c(e){return i.resolve(t(e),e.version.tdef+"","type.json")}function u(e,n,r){return i.resolve(t(e),e.version.tdef+"",n,r+".json")}function d(n,t){var r=c(n);return s.mkdirp(i.resolve(r,"..")).then(function(){var n=JSON.parse(y.serialize(t));return n.deployUnits=[],s.writeFile(r,JSON.stringify(n,null,2),"utf-8").then(function(){e.debug("KevScript","FileSystemResolver cached "+r)}).catch(function(n){e.debug("KevScript","FileSystemResolver failed to cache "+root+" (ignored)"),e.debug("KevScript",n.stack)})}).catch(function(n){e.debug("KevScript","FileSystemResolver failed to create directory "+i.resolve(r,"..")+" (ignored)"),e.debug("KevScript",n.stack)})}function f(n,t){var r=u(n,t.findFiltersByID("platform").value,t.version);return s.mkdirp(i.resolve(r,"..")).then(function(){var n=JSON.stringify(JSON.parse(y.serialize(t)),null,2);return s.writeFile(r,n,"utf-8").then(function(){e.debug("KevScript","FileSystemResolver cached "+r)}).catch(function(n){e.debug("KevScript","FileSystemResolver failed to cache "+root+" (ignored)"),e.debug("KevScript",n.stack)})}).catch(function(n){e.debug("KevScript","FileSystemResolver failed to create directory "+i.resolve(r,"..")+" (ignored)"),e.debug("KevScript",n.stack)})}function l(e,n){return Promise.all(n.map(function(n){return f(e,n)}))}function h(n){var t=c(n);return s.readFile(t,"utf-8").then(function(e){var t=m.loadModelFromString(e).get(0),r=v.createContainerRoot().withGenerated_KMF_ID("0"),i=v.createPackage().withName(n.namespace);return r.addPackages(i),i.addTypeDefinitions(t),r}).catch(function(n){e.debug("KevScript",n.message+" (ignored)"),e.debug("KevScript",n.stack)})}function p(n,t,r){var i=u(n,t,r);return s.readFile(i,"utf-8").then(function(e){var t=m.loadModelFromString(e).get(0),r=v.createContainerRoot().withGenerated_KMF_ID("0"),i=v.createPackage();return i.name=n.namespace,r.addPackages(i),i.addDeployUnits(t),r}).catch(function(n){e.debug("KevScript",n.message+" (ignored)"),e.debug("KevScript",n.stack)})}function w(e,n){return Promise.all(Object.keys(n).map(function(t){return p(e,t,n[t])})).then(function(e){return e.filter(function(e){return Boolean(e)})})}function g(e,t){var r=v.createContainerRoot();return v.root(r),n.resolve(e,r).then(function(n){return d(e,n).then(function(){return l(e,n.deployUnits.array)}).then(function(){return E.merge(t,r).applyOn(t),t.findByPath(n.path())})})}e.warn("FileSystemResolver","This is deprecated. You should not use it");var v=new o.factory.DefaultKevoreeFactory,m=v.createJSONLoader(),y=v.createJSONSerializer(),E=v.createModelCompare();return{resolve:function(n,t){return"LATEST"===n.version.tdef?g(n,t):Promise.resolve().then(function(){return h(n)}).then(function(i){return i&&"object"===r(n.version.du)?w(n,n.version.du).then(function(r){if(r&&r.length>0){E.merge(t,i).applyOn(t);var o=t.findByPath(n.toKevoreePath());return r.forEach(function(e){if(e){var n=e.packages.array[0].deployUnits.array[0];E.merge(t,e).applyOn(t),o.addDeployUnits(t.findByPath(n.path()))}}),e.info("KevScript","Found "+n+" in filesystem"),o}return g(n,t)}):g(n,t)})}}}},function(e,n,t){(function(e){function t(e,n){for(var t=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t--;t)e.unshift("..");return e}function r(e,n){if(e.filter)return e.filter(n);for(var t=[],r=0;r<e.length;r++)n(e[r],r,e)&&t.push(e[r]);return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,n){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var n=0;n<e.length&&""===e[n];n++);for(var t=e.length-1;t>=0&&""===e[t];t--);return n>t?[]:e.slice(n,t-n+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}for(var u=[],c=s;c<i.length;c++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var n=o(e),t=n[0],r=n[1];return t||r?(r&&(r=r.substr(0,r.length-1)),t+r):"."},n.basename=function(e,n){var t=o(e)[2];return n&&t.substr(-1*n.length)===n&&(t=t.substr(0,t.length-n.length)),t},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,n,t){return e.substr(n,t)}:function(e,n,t){return n<0&&(n=e.length+n),e.substr(n,t)}}).call(n,t(2))},function(e,n,t){"use strict";var r=t(78),i=t(79);e.exports={readFile:function(e,n){return new Promise(function(t,i){r.readFile(e,n,function(e,n){e?i(e):t(n)})})},writeFile:function(e,n,t){return new Promise(function(i,o){r.writeFile(e,n,t,function(e){e?o(e):i()})})},mkdirp:function(e){return new Promise(function(n,t){i(e,function(e){e?t(e):n()})})}}},function(e,n){},function(e,n){},function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t(5);e.exports=function(e,n){function t(e){return(i.get("cache.root")||"kevs-cache-")+e.namespace+"."+e.name}function o(e){return t(e)+"/"+e.version.tdef}function a(e,n,r){return t(e)+"/"+e.version.tdef+"-"+n+"-"+r}function s(e,n){var t=o(e),r=JSON.parse(g.serialize(n));r.deployUnits=[],localStorage.setItem(t,JSON.stringify(r))}function c(e,n){var t=a(e,n.findFiltersByID("platform").value,n.version);localStorage.setItem(t,g.serialize(n))}function u(e,n){n.forEach(function(n){c(e,n)})}function d(n){try{var t=o(n),r=localStorage.getItem(t),i=w.loadModelFromString(r).get(0),a=p.createContainerRoot().withGenerated_KMF_ID("0"),s=p.createPackage().withName(n.namespace);return a.addPackages(s),s.addTypeDefinitions(i),a}catch(n){e.debug("KevScript",n.message+" (ignored)"),e.debug("KevScript",n.stack)}return null}function f(n,t,r){try{var i=a(n,t,r),o=localStorage.getItem(i),s=w.loadModelFromString(o),c=s.get(0),u=p.createContainerRoot().withGenerated_KMF_ID("0"),d=p.createPackage().withName(n.namespace);return u.addPackages(d),d.addDeployUnits(c),u}catch(n){e.debug("KevScript",n.message+" (ignored)"),e.debug("KevScript",n.stack)}return null}function l(e,n){return Object.keys(n).map(function(t){return f(e,t,n[t])}).filter(function(e){return Boolean(e)})}function h(e,t){var r=p.createContainerRoot();return p.root(r),n.resolve(e,r).then(function(n){return s(e,n),u(e,n.deployUnits.array),v.merge(t,r).applyOn(t),t.findByPath(n.path())})}if(!KevoreeLibrary&&!localStorage)return e.warn("KevScript","LocalStorageResolver cannot be used on this platform (no localStorage available)"),n;var p=new KevoreeLibrary.factory.DefaultKevoreeFactory,w=p.createJSONLoader(),g=p.createJSONSerializer(),v=p.createModelCompare();return{resolve:function(n,t){return"LATEST"===n.version.tdef?h(n,t):Promise.resolve().then(function(){var i=d(n);if(i){if("object"===r(n.version.du)){var o=l(n,n.version.du);if(o&&o.length>0){v.merge(t,i).applyOn(t);var a=t.findByPath(n.toKevoreePath());return o.forEach(function(e){if(e){var n=e.packages.array[0].deployUnits.array[0];v.merge(t,e).applyOn(t),a.addDeployUnits(t.findByPath(n.path()))}}),e.info("KevScript","Found "+n+" in localStorage"),a}return h(n,t)}return h(n,t)}return h(n,t)})}}}},function(e,n,t){"use strict";e.exports=function(e,n){function t(e){var n={};return e.forEach(function(e){n[e.findFiltersByID("platform").value]=e.version}),n}var r={},i={},o={};return{resolve:function(a,s){var c=!1,u=!1;return Promise.resolve().then(function(){var d=a.version.tdef,f=a.version.du;if("LATEST"===d){var l=r[a.namespace+"."+a.name];l&&(a.version.tdef=l,e.debug("KevScript","TagResolver changed "+a.namespace+"."+a.name+"/LATEST to "+a.namespace+"."+a.name+"/"+l),c=!0)}if("LATEST"!==a.version.tdef){var h=void 0;"LATEST"===a.version.du&&(h=i[a.namespace+"."+a.name+"/"+a.version.tdef]),"RELEASE"===a.version.du&&(h=o[a.namespace+"."+a.name+"/"+a.version.tdef]),h&&(a.version.du=h,e.debug("KevScript","TagResolver changed "+a.namespace+"."+a.name+"/"+a.version.tdef+"/"+f+" to "+a.namespace+"."+a.name+"/"+a.version.tdef+"/"+JSON.stringify(a.version.du)),u=!0)}return n.resolve(a,s).then(function(n){return c||"LATEST"!==d||(r[a.namespace+"."+a.name]=n.version,e.debug("KevScript","TagResolver linked "+a.namespace+"."+a.name+"/LATEST to "+a.namespace+"."+a.name+"/"+n.version)),u||("LATEST"===f?(i[a.namespace+"."+a.name+"/"+n.version]=t(n.deployUnits.array),e.debug("KevScript","TagResolver linked "+a+" to "+a.namespace+"."+a.name+"/"+a.version.tdef+"/"+JSON.stringify(i[a.namespace+"."+a.name+"/"+n.version]))):"RELEASE"===f&&(o[a.namespace+"."+a.name+"/"+n.version]=t(n.deployUnits.array),e.debug("KevScript","TagResolver linked "+a+" to "+a.namespace+"."+a.name+"/"+a.version.tdef+"/"+JSON.stringify(o[a.namespace+"."+a.name+"/"+n.version])))),n})})}}}}])});